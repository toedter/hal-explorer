[[usage]]
= Using HAL Explorer

== JSON Properties

When you start HAL Explorer, you will see an input field in the top-left area where you can enter the URI of a REST service that returns HAL or HAL-FORMS documents. Once you click `Go!` or press Enter, the response is displayed. A typical response looks like:


image::img/hal-explorer-light.png[]

== Links

Just below the URI, you will find the top-level JSON properties. If the response contains links, they are displayed below.
Since HAL does not provide affordances indicating which HTTP method you should use to follow a link, you will find colored buttons for each HTTP method:

* `<` : HTTP GET
* `+` : HTTP POST
* `>>` : HTTP PUT
* `>` : HTTP PATCH
* `x` : HTTP DELETE

If a link relation provides <<Curie-based Documentation>>,
you can click on the book icon to display it.

If a link relation provides a name or a title, they are displayed in the links table.

You can click on a link button to follow the link. If a link is templated, a modal dialog will appear where you can fill in the template parameters, like:

image::img/templated-request.png[width=70%]

When you click on `Go!`, an HTTP call to the `Expanded URI` will be made.

== Embedded Resources

If the response contains embedded resources, you will find them in the "Embedded Resources" section.
You can click on an embedded resource to expand it, like:

image::img/expanded-embedded-resource.png[width=70%]

== Response Details

On the right-hand side of the page, you will find details about the response:

* Response Status code and text
* All Response Headers
* Response body with syntax-highlighted JSON

== Curie-based Documentation

Whenever you see a book icon, you can click on it to display the documentation.
Depending on the chosen layout, the documentation will be displayed as a third column on the right (3-column layout)
or will replace the response details (2-column layout). You can change the layout using the `Settings` menu in the main toolbar.

A page with a 3-column layout might look like:

image::img/3-column-layout.png[]

== HAL-FORMS

HAL Explorer supports the latest HAL-FORMS specification. Whenever a HAL-FORMS based response contains
templates (`_templates`), all template elements will be displayed in the Links section, like:

image::img/hal-explorer-templates.png[]

Since HAL-FORMS uses affordances to describe which HTTP method should be used for each template element, you can
follow links using HTTP GET, but must use the specific HTTP method defined in each template element.

== Updating REST Resources

Whenever you click on an HTTP POST button, a modal dialog appears where you can enter the request body and query parameters (only if the URI is templated). For raw HAL-based documents, it looks like:

image::img/hal-post-dialog.png[width=70%]

When your server is implemented using https://spring.io/projects/spring-data-rest[Spring Data REST], a JSON Schema-based Spring profile is automatically created. HAL Explorer automatically detects Spring Profiles, and instead of presenting an empty body, form elements for all attributes are displayed, like:

image::img/request-input.png[width=70%]

When your response is based on HAL-FORMS, all the properties of the corresponding template element are shown, like:

image::img/hal-forms-post-dialog.png[width=70%]

When HAL-FORMS is used, the fields are also validated, and validation errors are displayed below the input area.
Only for valid forms is the body displayed, and the HTTP request can be made.

== Adding Request Headers

When you want to add certain request headers to all calls, click on `Edit Headers` in the top-left corner.
Then, a modal dialog will appear where you can add headers. This is useful when you want to add items like
bearer tokens for authorization, like:

image::img/request-headers.png[width=70%]

The modal dialog also provides buttons to clear all request headers or to add/modify an `Accept`
request header for `HAL` or `HAL-FORMS` documents.


== Configuration and Bookmarking

The following configuration is stored in the browser's local storage and persists across sessions:

* Color Mode (Light/Dark/Auto; default is Auto)
* Theme (default is Bootswatch Cosmo)
* Column Layout (2 or 3 columns; default is 2)
* HTTP OPTIONS setting (default is off)
* Enable all HTTP Methods for HAL-FORMS Links setting (default is off)
* Scrollable Documentation setting (default is off)

=== Bookmarking

The following configuration is included in URL parameters, so HAL Explorer URLs can be easily bookmarked and shared:

* URI
* Request Headers

== HAL-FORMS Options

HAL Explorer supports HAL-FORMS https://rwcbook.github.io/hal-forms/#options-element[Options].
A simple example JSON looks like:

[source, json]
----
include::../test-data/options.hal-forms.json[]
----

When clicking on the POST request button, the dialog looks like:

image::img/hal-forms-options.png[width=70%]
